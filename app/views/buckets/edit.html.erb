<div class="container">
  <div class="row">
    <div class="col-xs-12">
      <h2><%= @bucket.bucket_name %></h2>
    </div>
    <div class="col-xs-12">
      <table class="table table-condensed">
        <thead>
          <tr>
            <th>Translation key</th>
            <% @bucket.project.languages.each do |language| %>
              <th><%= language.language_key %></th>
            <% end %>
          </tr>
        </thead>
        <tbody>
          <%= form_tag bucket_path(@bucket), method: :put do %>
            <% @translation_keys.each do |translation_key| %>
              <tr>
                <td><%= text_field_tag translation_key, translation_key, class: "form-control" %></td>
                <% @bucket.project.languages.each do |language| %>
                  <td><%= text_field_tag language.language_key + "_" + translation_key, Translation.find_by(translation_key: translation_key, language: language) ? Translation.find_by(translation_key: translation_key, language: language).text : nil, class: "form-control" %></td>
                <% end %>
              </tr>
            <% end %>
            <tr>
              <td><%= text_field_tag :new_translation_key, nil, placeholder: "New key", class: "form-control" %></td>
              <% @bucket.project.languages.each do |language| %>
                <td><%= text_field_tag language.language_key + "_new", nil, class: "form-control" %></td>
              <% end %>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>
</div>